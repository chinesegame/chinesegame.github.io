import{Q as M}from"./QBtn.ee534bbc.js";import{_ as x,y as r,z as d,C as w,ad as G,D as F,r as n,F as k,ac as E,G as N,H as b,ae as A,I as D,af as I,j as T}from"./index.1326e8ee.js";const S={},W={class:"game-tile"},z={class:"game-tile__text"};function L(f,c){return r(),d("div",W,[w("div",z,[G(f.$slots,"default",{},void 0,!0)])])}var P=x(S,[["render",L],["__scopeId","data-v-6f6dfcf6"]]);const V={class:"game-area__tiles"},j=F({__name:"GameArea",setup(f){const c=["#8EFF00","#741926","#00FFBB","#ED1313","#FCCE00"],p=["\u58EB","\u95E8","\u4EBA","\u5973","\u5B50"],u=n([]),h=e=>{for(let a=e.length-1;a>0;a--){let t=Math.floor(Math.random()*(a+1));[e[a],e[t]]=[e[t],e[a]]}};h(c);const m=p.map((e,a)=>({letter:e,color:c[a]}));for(let e=0;e<36;e++)h(m),u.value.push({x:Math.floor(e%6),y:Math.floor(e/6),...m[0]});const v=n(null),s=n(null),o=n(null),i=n(""),_=n(""),$=(e,a)=>{e.touches?v.value={x:e.touches[0].clientX,y:e.touches[0].clientY}:v.value={x:e.x,y:e.y},o.value=e.target,s.value=a,i.value=o.value.style.left,_.value=o.value.style.top},B=e=>{let a={};e.touches?a={x:e.touches[0].clientX,y:e.touches[0].clientY}:a={x:e.x,y:e.y};const t={x:a.x-v.value.x,y:a.y-v.value.y};if(Math.abs(t.x)>Math.abs(t.y)){const l=t.x*100/window.innerWidth;Math.abs(l)<10.8&&(o.value.style.left=`calc(${i.value} + ${t.x*100/window.innerWidth}vw)`),o.value.style.top=_.value}else{const l=t.y*100/window.innerWidth;Math.abs(l)<10.8&&(o.value.style.top=`calc(${_.value} + ${t.y*100/window.innerWidth}vw)`),o.value.style.left=i.value}o.value.style.zIndex=1,o.value.style.transition="none"},y=n(0),C=()=>{o.value.style.transition="";const e=parseFloat(o.value.style.left.split("(")[1]),a=parseFloat(o.value.style.top.split("(")[1]);let t=null;if(isNaN(e)||(e-parseFloat(i.value)>0?t=u.value.find(l=>l.x===s.value.x+1&&l.y===s.value.y):t=u.value.find(l=>l.x===s.value.x-1&&l.y===s.value.y)),isNaN(a)||(a-parseFloat(_.value)>0?t=u.value.find(l=>l.x===s.value.x&&l.y===s.value.y+1):t=u.value.find(l=>l.x===s.value.x&&l.y===s.value.y-1)),t){const l={x:s.value.x,y:s.value.y};s.value.y=t.y,s.value.x=t.x,t.x=l.x,t.y=l.y}else y.value++};return(e,a)=>(r(),d("div",{key:y.value,class:"game-area"},[w("div",V,[(r(!0),d(k,null,E(u.value,(t,l)=>(r(),N(P,{key:l,style:I({left:`${t.x*10.83+t.x*1.44}vw`,top:`${t.y*10.83+t.y*1.44}vw`,color:t.color}),onTouchstart:g=>$(g,t),onTouchmove:B,onTouchend:C,onClick:a[0]||(a[0]=g=>y.value++)},{default:b(()=>[A(D(t.letter),1)]),_:2},1032,["style","onTouchstart"]))),128))])]))}});var Q=x(j,[["__scopeId","data-v-40e316a4"]]);const X={class:"game"},Y=F({__name:"GamePage",setup(f){return(c,p)=>(r(),d("div",X,[T(M,{class:"game__back",to:"/",flat:""}),T(Q)]))}});var J=x(Y,[["__scopeId","data-v-2bde8950"]]);export{J as default};
