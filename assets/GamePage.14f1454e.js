import{Q as C}from"./QBtn.3db721df.js";import{_ as f,y as c,z as d,C as T,ad as E,D as w,r as n,o as G,F as b,ac as k,G as N,H as I,ae as A,I as D,af as z,j as g}from"./index.d40e19de.js";const L={},S={class:"game-tile"},W={class:"game-tile__text"};function P(y,r){return c(),d("div",S,[T("div",W,[E(y.$slots,"default",{},void 0,!0)])])}var V=f(L,[["render",P],["__scopeId","data-v-6f6dfcf6"]]);const j={class:"game-area__tiles"},Q=w({__name:"GameArea",setup(y){const r=["#8EFF00","#741926","#00FFBB","#ED1313","#FCCE00"],x=["\u58EB","\u95E8","\u4EBA","\u5973","\u5B50"],u=n([]),p=e=>{for(let l=e.length-1;l>0;l--){let t=Math.floor(Math.random()*(l+1));[e[l],e[t]]=[e[t],e[l]]}};p(r);const h=x.map((e,l)=>({letter:e,color:r[l]}));for(let e=0;e<36;e++)p(h),u.value.push({x:Math.floor(e%6),y:Math.floor(e/6),...h[0]});const v=n(null),s=n(null),o=n(null),i=n(""),_=n(""),F=(e,l)=>{e.touches?v.value={x:e.touches[0].clientX,y:e.touches[0].clientY}:v.value={x:e.x,y:e.y},o.value=e.target,s.value=l,i.value=o.value.style.left,_.value=o.value.style.top},M=e=>{let l={};e.touches?l={x:e.touches[0].clientX,y:e.touches[0].clientY}:l={x:e.x,y:e.y};const t={x:l.x-v.value.x,y:l.y-v.value.y};if(Math.abs(t.x)>Math.abs(t.y)){const a=t.x*100/window.innerWidth;Math.abs(a)<10.8&&(o.value.style.left=`calc(${i.value} + ${t.x*100/window.innerWidth}vw)`),o.value.style.top=_.value}else{const a=t.y*100/window.innerWidth;Math.abs(a)<10.8&&(o.value.style.top=`calc(${_.value} + ${t.y*100/window.innerWidth}vw)`),o.value.style.left=i.value}o.value.style.zIndex=1,o.value.style.transition="none"},m=n(0),$=()=>{o.value.style.transition="",o.value.style.zIndex=0;const e=parseFloat(o.value.style.left.split("(")[1]),l=parseFloat(o.value.style.top.split("(")[1]);let t=null;if(isNaN(e)||(e-parseFloat(i.value)>0?t=u.value.find(a=>a.x===s.value.x+1&&a.y===s.value.y):t=u.value.find(a=>a.x===s.value.x-1&&a.y===s.value.y)),isNaN(l)||(l-parseFloat(_.value)>0?t=u.value.find(a=>a.x===s.value.x&&a.y===s.value.y+1):t=u.value.find(a=>a.x===s.value.x&&a.y===s.value.y-1)),t){const a={x:s.value.x,y:s.value.y};s.value.y=t.y,s.value.x=t.x,t.x=a.x,t.y=a.y}else m.value++};return G(()=>{document.addEventListener("touchend",$)}),(e,l)=>(c(),d("div",{key:m.value,class:"game-area"},[T("div",j,[(c(!0),d(b,null,k(u.value,(t,a)=>(c(),N(V,{key:a,style:z({left:`${t.x*10.83+t.x*1.44}vw`,top:`${t.y*10.83+t.y*1.44}vw`,color:t.color}),onTouchstart:B=>F(B,t),onTouchmove:M},{default:I(()=>[A(D(t.letter),1)]),_:2},1032,["style","onTouchstart"]))),128))])]))}});var X=f(Q,[["__scopeId","data-v-30b92a18"]]);const Y={class:"game"},H=w({__name:"GamePage",setup(y){return(r,x)=>(c(),d("div",Y,[g(C,{class:"game__back",to:"/",flat:""}),g(X)]))}});var K=f(H,[["__scopeId","data-v-2bde8950"]]);export{K as default};
