"use strict";(self["webpackChunkclient"]=self["webpackChunkclient"]||[]).push([[458],{1458:(e,t,n)=>{n.r(t),n.d(t,{default:()=>j});var s=n(3673),a=n(2323);const l=(0,s.Uk)(" Назад "),o={class:"text-h6"},u={style:{width:"300px"}},i={class:"absolute-full flex flex-center"},r=(0,s._)("div",null," Задание ",-1),c={class:"text-body1"},d={key:1,class:"text-h6"};function p(e,t,n,p,m,g){const f=(0,s.up)("q-btn"),v=(0,s.up)("q-badge"),b=(0,s.up)("q-linear-progress"),h=(0,s.up)("q-input"),k=(0,s.up)("q-form"),w=(0,s.up)("q-page");return(0,s.wg)(),(0,s.j4)(w,{class:"column items-center q-col-gutter-lg"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s.Wm)(f,{to:{name:e.LessonRouteName,params:{id:e.taskContent.lessonId}}},{default:(0,s.w5)((()=>[l])),_:1},8,["to"])]),(0,s._)("div",o,(0,a.zw)(e.taskContent.name),1),e.taskContent.curTask!==e.taskContent.contentLength?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s._)("div",u,[(0,s.Wm)(b,{size:"25px",value:e.progress,color:"secondary"},{default:(0,s.w5)((()=>[(0,s._)("div",i,[(0,s.Wm)(v,{color:"secondary","text-color":"white",label:e.progressLabel},null,8,["label"])])])),_:1},8,["value"])]),r,(0,s._)("div",c,(0,a.zw)(e.taskContent.task),1),((0,s.wg)(),(0,s.j4)(k,{key:e.taskContent.task,class:"q-gutter-md",style:{width:"300px"},onSubmit:e.onSubmit,onReset:e.onReset},{default:(0,s.w5)((()=>[(0,s.Wm)(h,{filled:"",modelValue:e.answer,"onUpdate:modelValue":t[0]||(t[0]=t=>e.answer=t),label:"Перевод",type:"textarea",dense:"",rules:[e=>e&&e.length>0||"Поле не может быть пустым"],"lazy-rules":""},null,8,["modelValue","rules"]),(0,s._)("div",null,[(0,s.Wm)(f,{label:"Сбросить",type:"reset",color:"primary",flat:""}),(0,s.Wm)(f,{loading:e.isLoading,label:"Отправить",type:"submit",color:"primary",class:"q-ml-sm"},null,8,["loading"])])])),_:1},8,["onSubmit","onReset"]))],64)):((0,s.wg)(),(0,s.iD)("div",d," Всё переведено! "))])),_:1})}var m=n(1959),g=n(3863),f=n(9582),v=n(6912),b=n(9253),h=function(e,t,n,s){function a(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,l){function o(e){try{i(s.next(e))}catch(t){l(t)}}function u(e){try{i(s["throw"](e))}catch(t){l(t)}}function i(e){e.done?n(e.value):a(e.value).then(o,u)}i((s=s.apply(e,t||[])).next())}))};const k=(0,s.aZ)({name:"Task",setup(){const e=(0,g.useStore)(),t=(0,f.yj)(),n=t.params.id,a=(0,m.qj)({}),l=b.n8.LESSON,o=(0,m.iH)(0),u=(0,m.iH)(""),i=e=>{Object.keys(e).forEach((t=>{a[t]=e[t]})),o.value=a.curTask/a.contentLength,u.value=`${a.curTask} / ${a.contentLength}`};(0,s.bv)((()=>h(this,void 0,void 0,(function*(){const t=yield e.dispatch(v.e.FETCH_TASK_CONTENT,n);i(t)}))));const r=(0,m.iH)(""),c=(0,m.iH)(!1),d=()=>{r.value=""},p=()=>h(this,void 0,void 0,(function*(){yield e.dispatch(v.e.ADD_ANSWER,Object.assign(Object.assign({},a),{answer:r.value})).then((e=>{i(e)})).finally((()=>{d(),c.value=!1}))}));return{taskContent:a,LessonRouteName:l,answer:r,isLoading:c,onSubmit:p,onReset:d,progress:o,progressLabel:u}}});var w=n(4260),y=n(4379),_=n(2452),x=n(1598),C=n(9721),L=n(8689),q=n(1478),S=n(7518),T=n.n(S);const Z=(0,w.Z)(k,[["render",p]]),j=Z;T()(k,"components",{QPage:y.Z,QBtn:_.Z,QLinearProgress:x.Z,QBadge:C.Z,QForm:L.Z,QInput:q.Z})}}]);