"use strict";(self["webpackChunkclient"]=self["webpackChunkclient"]||[]).push([[900],{1618:(n,o,t)=>{t.d(o,{Z:()=>c});t(5363);var e=t(1768),a=t(2801),i=t(238);const s=({store:n,router:o,quasar:t,isLoading:s})=>{if(t.platform.is.cordova){const t=cordova.InAppBrowser.open(`${e.baseURL}/auth/google`,"_blank","location=yes");let c=!1;t.addEventListener("loadstart",(async e=>{if("https://happy-tourist.github.io/#/login/social"===e.url){c=!0,t.close();const e=await a.Z.auth.loginSocial();n.commit(i.F.SET_ACCESS_TOKEN,e.accessToken),o.go(0)}})),t.addEventListener("exit",(()=>{c||(s.value=!1)}))}else window.location.replace(`${e.baseURL}/auth/google`)},c=s},9900:(n,o,t)=>{t.r(o),t.d(o,{default:()=>Z});var e=t(3673);const a=(0,e._)("div",{class:"text-h6"}," Войти, как ",-1),i=(0,e.Uk)(" Гость "),s=(0,e._)("div",{class:"text-h6"}," или ",-1),c=(0,e.Uk)(" гугл ");function l(n,o,t,l,r,u){const d=(0,e.up)("q-btn"),g=(0,e.up)("q-page");return(0,e.wg)(),(0,e.j4)(g,{class:"column items-center q-col-gutter-lg"},{default:(0,e.w5)((()=>[a,(0,e._)("div",null,[(0,e.Wm)(d,{color:"secondary",onClick:n.login},{default:(0,e.w5)((()=>[i])),_:1},8,["onClick"])]),s,(0,e._)("div",null,[(0,e.Wm)(d,{color:"primary",loading:n.isLoading,onClick:n.socialLogin},{default:(0,e.w5)((()=>[c])),_:1},8,["loading","onClick"])])])),_:1})}var r=t(1959),u=t(3863),d=t(9582),g=t(2801),p=t(238),f=t(9253),h=t(1768),v=t(1618),m=t(8825),k=function(n,o,t,e){function a(n){return n instanceof t?n:new t((function(o){o(n)}))}return new(t||(t=Promise))((function(t,i){function s(n){try{l(e.next(n))}catch(o){i(o)}}function c(n){try{l(e["throw"](n))}catch(o){i(o)}}function l(n){n.done?t(n.value):a(n.value).then(s,c)}l((e=e.apply(n,o||[])).next())}))};const w=(0,e.aZ)({name:"PageLogin",setup(){const n=(0,u.useStore)(),o=(0,d.tv)(),t=(0,m.Z)(),e=(0,r.iH)(!1),a=()=>{(0,v.Z)({store:n,router:o,quasar:t,isLoading:e})},i=()=>k(this,void 0,void 0,(function*(){const t=yield g.Z.auth.loginGuest();n.commit(p.F.SET_ACCESS_TOKEN,t.accessToken),yield o.push({name:f.n.INDEX})}));return{login:i,baseURL:h.baseURL,isLoading:e,socialLogin:a}}});var L=t(4260),_=t(4379),y=t(2452),C=t(7518),b=t.n(C);const E=(0,L.Z)(w,[["render",l]]),Z=E;b()(w,"components",{QPage:_.Z,QBtn:y.Z})}}]);